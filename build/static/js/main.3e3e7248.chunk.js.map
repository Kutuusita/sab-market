{"version":3,"sources":["reducers/product-list.js","reducers/category-list.js","reducers/shopping-cart.js","reducers/index.js","actions/index.js","services/service.js","store.js","components/store-context/index.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/error-boundry.js","components/error-boundry/index.js","utils/index.js","components/hoc/with-store-service.js","components/spinner/index.js","components/spinner/spinner.js","components/category-card/index.js","components/category-card/category-card.js","components/catalog/catalog.js","components/catalog/index.js","components/product-card/product-card.jpg","components/product-card/index.js","components/product-card/product-card.js","components/category/category.js","components/category/index.js","components/footer/index.js","components/footer/footer.js","components/navigation/main-category-icon--pos.svg","components/navigation/main-category-icon--po.svg","components/navigation/main-category-icon--services.svg","components/navigation/index.js","components/navigation/navigation.js","app.js","index.js"],"names":["updateProductList","state","action","undefined","products","categoryId","loading","error","type","payload","newProducts","id","productList","updateCategoryList","categories","categoryList","updateCartItems","cartItems","item","idx","count","slice","updateOrder","productId","quantity","shoppingCart","product","find","itemIndex","findIndex","newItem","title","total","price","updateCartItem","orderTotal","updateShoppingCart","reducer","console","log","fetchCategories","storeService","dispatch","getCategories","then","data","catch","categoriesError","Service","_apiBase","headers","getResourse","a","fetch","method","mode","res","ok","Error","status","json","getProductsByCatId","cat_id","filter","_filterProducts","getCategoryById","length","virtuemart_category_id","store","createStore","cutegoryId","applyMiddleware","thunkMiddleWare","React","createContext","StoreServiceProvider","Provider","StoreServiceConsumer","Consumer","ErrorIndicator","className","ErrorBoundry","hasError","this","setState","props","children","Component","compose","funcs","comp","reduceRight","orevResult","f","withStoreService","Wrapped","Spinner","CategoryCard","onItemSelected","catId","file_url","category_name","onClick","src","alt","Catalog","history","categoryCards","map","push","withRouter","connect","bindActionCreators","ProductCard","image_url","productImg","product_name","product_price","Category","cat","service","itemId","fetchProducts","productCardsReq","virtuemart_product_id","filterProducts","to","productsLoaded","productsError","Footer","href","Navigation","svgPos","svgPo","svgServices","App","value","path","render","match","params","component","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3e3e7248.chunk.js","sourcesContent":["const updateProductList = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      products: [],\r\n      categoryId: null,\r\n      loading: true,\r\n      error: null,\r\n    }\r\n  }\r\n  switch (action.type) {\r\n    case 'FETCH_PRODUCTS_REQUEST':\r\n      return {\r\n        products: [],\r\n        categoryId: null,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n\r\n    case 'FETCH_PRODUCTS_SUCCESS':\r\n      return {\r\n        products: action.payload.newProducts,\r\n        categoryId: action.payload.id,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'FETCH_PRODUCTS_FAILURE':\r\n      return {\r\n        products: [],\r\n        categoryId: null,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state.productList;\r\n  }\r\n}\r\n\r\nexport default updateProductList;","const updateCategoryList = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      categories: [],\r\n      loading: true,\r\n      error: null,\r\n    }\r\n  }\r\n  switch (action.type) {\r\n    case 'FETCH_CATEGORIES_REQUEST':\r\n      return {\r\n        categories: [],\r\n        loading: true,\r\n        error: null,\r\n      };\r\n\r\n    case 'FETCH_CATEGORIES_SUCCESS':\r\n      return {\r\n        categories: action.payload,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n\r\n    case 'FETCH_CATEGORIES_FAILURE':\r\n      return {\r\n        categories: [],\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state.categoryList;\r\n  }\r\n}\r\n\r\nexport default updateCategoryList;","const updateCartItems = (cartItems, item, idx) => {\r\n\r\n  if (item.count === 0) {\r\n    return [\r\n      ...cartItems.slice(0, idx),\r\n      ...cartItems.slice(idx +  1)\r\n    ]\r\n  }\r\n\r\n  if (idx === -1) {\r\n    return [\r\n      ...cartItems,\r\n      item\r\n    ]\r\n  }\r\n\r\n  return [\r\n    ...cartItems.slice(0, idx),\r\n    item,\r\n    ...cartItems.slice(idx +  1)\r\n  ]\r\n}\r\n\r\nconst updateCartItem = (product, item = {}, quantity) => {\r\n\r\n  const {\r\n    id = product.id,\r\n    count = 0,\r\n    title = product.title,\r\n    total = 0\r\n  } = item;\r\n\r\n  return {\r\n    id,\r\n    title,\r\n    count: count + quantity,\r\n    total: total + quantity * product.price,\r\n  }\r\n}\r\n\r\nconst updateOrder = (state, productId, quantity) => {\r\n  const { productList: { products }, shoppingCart: { cartItems } } = state;\r\n  const product = products.find(({id}) => id === productId);\r\n  const itemIndex = cartItems.findIndex(({id}) => id === productId);\r\n  const item = cartItems[itemIndex];\r\n\r\n  const newItem = updateCartItem(product, item, quantity);\r\n\r\n  return {\r\n    cartItems: updateCartItems(cartItems, newItem, itemIndex),\r\n    orderTotal: 0,\r\n  };\r\n}\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n  if (state === undefined) {\r\n    return {\r\n      cartItems: [],\r\n      orderTotal: 0\r\n    }\r\n  }\r\n  switch (action.type) {\r\n    case 'PRODUCT_ADDED_TO_CART':\r\n      return updateOrder(state, action.payload, 1);\r\n\r\n    case 'PRODUCT_REMOVED_FROM_CART':\r\n      return updateOrder(state, action.payload, -1);\r\n\r\n    case 'ALL_PRODUCTS_REMOVED_FROM_CART':\r\n      const item = state.shoppingCart.cartItems.find(({id}) => id === action.payload);\r\n      return updateOrder(state, action.payload, -item.count)\r\n\r\n    default:\r\n      return state.shoppingCart;\r\n  }\r\n}\r\n\r\nexport default updateShoppingCart;","import updateProductList from './product-list';\r\nimport updateCategoryList from './category-list';\r\nimport updateShoppingCart from './shopping-cart';\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(action.type,state)\r\n  return {\r\n    categoryList: updateCategoryList(state, action),\r\n    productList: updateProductList(state, action),\r\n    shoppingCart: updateShoppingCart(state, action)\r\n  }\r\n};\r\n\r\nexport default reducer;","// Products\r\nconst productsRequested = () => {\r\n  return {\r\n    type: 'FETCH_PRODUCTS_REQUEST'\r\n  }\r\n}\r\n\r\nconst productsLoaded = (newProducts, id) => {\r\n  return {\r\n    type: 'FETCH_PRODUCTS_SUCCESS',\r\n    payload: {newProducts, id}\r\n  }\r\n}\r\n\r\nconst productsError = (error) => {\r\n  return {\r\n    type: 'FETCH_PRODUCTS_FAILURE',\r\n    payload: error\r\n  }\r\n}\r\n\r\n// Catetegory\r\nconst categoriesRequested = () => {\r\n  return {\r\n    type: 'FETCH_CATEGORIES_REQUEST'\r\n  }\r\n}\r\n\r\nconst categoriesLoaded = (newCategories) => {\r\n  return {\r\n    type: 'FETCH_CATEGORIES_SUCCESS',\r\n    payload: newCategories\r\n  }\r\n}\r\n\r\nconst categoriesError = (error) => {\r\n  return {\r\n    type: 'FETCH_CATEGORIES_FAILURE',\r\n    payload: error\r\n  }\r\n}\r\n\r\nexport const productAddedToCart = (productId) => {\r\n  return {\r\n    type: 'PRODUCT_ADDED_TO_CART',\r\n    payload: productId\r\n  }\r\n}\r\n\r\nexport const productRemovedFromCart = (productId) => {\r\n  return {\r\n    type: 'PRODUCT_REMOVED_FROM_CART',\r\n    payload: productId\r\n  }\r\n}\r\n\r\nexport const allProductsRemovedFromCart = (productId) => {\r\n  return {\r\n    type: 'ALL_PRODUCTS_REMOVED_FROM_CART',\r\n    payload: productId\r\n  }\r\n}\r\n\r\nexport const fetchProducts = (service) => (id) => (dispatch) => {\r\n  dispatch(productsRequested());\r\n  service.getProductsByCatId(id)\r\n    .then((data) => dispatch(productsLoaded(data, id)))\r\n    .catch((error) => dispatch(productsError(error)))\r\n}\r\n\r\nexport const fetchCategories = (storeService) => () => (dispatch) => {\r\n  dispatch(categoriesRequested());\r\n  storeService.getCategories()\r\n    .then((data) => dispatch(categoriesLoaded(data)))\r\n    .catch((error) => dispatch(categoriesError(error)))\r\n}\r\n","export default class Service {\r\n  _apiBase = 'https://market.sab-it.ru/market/market_object_2.php';\r\n  headers = {'Origin': 'http://localhost:3000/'};\r\n\r\n  getResourse = async (type) => {\r\n    const res = await fetch(`${this._apiBase}?type=${type}`, {\r\n      method : \"GET\",\r\n      mode: 'cors',\r\n      headers: this.headers\r\n    });\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Не удалось получить данные` +\r\n        `, ${res.status}`)\r\n    }\r\n\r\n    return await res.json();\r\n  }\r\n\r\n  getProductsByCatId = async (cat_id) => {\r\n    const res = await this.getResourse('products');\r\n    return res.filter(item => this._filterProducts(item, cat_id));\r\n  }\r\n\r\n  getCategories = async () => {\r\n    const res = await this.getResourse('category');\r\n    return res;\r\n  }\r\n\r\n  getCategoryById = async (cat_id) => {\r\n    const res = await this.getResourse('category');\r\n    return res.find(item => this._filterProducts(item, cat_id));\r\n  }\r\n  _filterProducts = (item = {}, cat_id = '0') => {\r\n    if (!item && !item.length) return false;\r\n    return item.virtuemart_category_id === cat_id ? item : false;\r\n  }\r\n}","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\n\r\nimport reducer from './reducers';\r\n\r\nimport { fetchCategories } from './actions';\r\nimport Service from './services/service';\r\n\r\nconst storeService = new Service();\r\n\r\nconst initialState = {\r\n  categoryList: {\r\n    categories: [],\r\n    loading: true,\r\n    error: null,\r\n  },\r\n  productList: {\r\n    products: [],\r\n    cutegoryId: null,\r\n    loading: true,\r\n    error: null,\r\n  },\r\n  shoppingCart: {\r\n    cartItems: {},\r\n    orderTotal: 0,\r\n  }\r\n}\r\n\r\nconst store = createStore(reducer, initialState, applyMiddleware(thunkMiddleWare));\r\n\r\nstore.dispatch(fetchCategories(storeService));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\n\r\nconst {\r\n    Provider : StoreServiceProvider,\r\n    Consumer : StoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n    StoreServiceProvider,\r\n    StoreServiceConsumer\r\n}","import ErrorIndicator from \"./error-indicator\";\r\n\r\nexport default ErrorIndicator;","import React from \"react\";\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <span>\r\n          something has gone terrible wrong\r\n      </span>\r\n      <span>\r\n          (but we already sebt droids to fix it)\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorIndicator;","import React, { Component } from \"react\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n  state = {\r\n    hasError: false,\r\n  }\r\n\r\n  componentDidCatch () {\r\n    this.setState({ hasError: true })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <ErrorIndicator />\r\n      )\r\n    };\r\n\r\n    return this.props.children;\r\n  }\r\n}","import ErrorBoundry from \"./error-boundry\";\r\n\r\nexport default ErrorBoundry;","const compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight((orevResult, f) => f(orevResult), comp);\r\n}\r\n\r\nexport default compose;","import React from \"react\";\r\nimport { StoreServiceConsumer } from \"../store-context\";\r\n\r\nconst withStoreService = () => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n      <StoreServiceConsumer>\r\n        {\r\n          (storeService) => {\r\n            return (\r\n              <Wrapped {...props} storeService={storeService} />\r\n            )\r\n          }\r\n        }\r\n      </StoreServiceConsumer>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withStoreService;","import Spinner from \"./spinner\";\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport './spinner.css'\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner-wrap\">\r\n      <div className=\"spinner-title\">Загрузка...</div>\r\n      {/* <div className=\"loadingio-spinner-double-ring-qg4e9dlujq\">\r\n          <div className=\"ldio-ipqlqp6955s\">\r\n              <div></div>\r\n              <div></div>\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n          </div>\r\n      </div> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spinner;","import CategoryCard from \"./category-card\";\r\n\r\nexport default CategoryCard;","import './category-card.scss';\r\n\r\nconst CategoryCard = (props) => {\r\n  const { data, onItemSelected } = props;\r\n  const { virtuemart_category_id: catId, file_url, category_name } = data;\r\n\r\n  return (\r\n    <div\r\n    onClick={ () => onItemSelected(catId) }\r\n    className=\"category-card\" id={catId}>\r\n      <div className=\"category-card__image\">\r\n        <img src={`https://market.sab-it.ru/${file_url}`} alt={category_name} />\r\n      </div>\r\n      <div className=\"category-card__name\">\r\n        {category_name}\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default CategoryCard;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport compose from '../../utils';\r\nimport withStoreService from '../hoc/with-store-service';\r\nimport { fetchCategories } from '../../actions';\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\nimport Spinner from '../spinner';\r\nimport CategoryCard from '../category-card';\r\n\r\nimport './catalog.scss';\r\n\r\nclass Catalog extends Component {\r\n\r\n\r\n  componentDidMount() {\r\n    if (!this.props.categories.length) {\r\n      this.props.fetchCategories();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const { categories, loading, error, history } = this.props;\r\n    const categoryCards = categories.map(item => {\r\n      const { virtuemart_category_id: catId } = item;\r\n      return (\r\n        <CategoryCard\r\n            onItemSelected={ (catId) => {\r\n              history.push(`/category/${catId}`)\r\n            }}\r\n            data={ item }\r\n            key={ catId }  />\r\n      )\r\n    });\r\n\r\n    if (error) {\r\n      return (\r\n        <ErrorIndicator />\r\n      )\r\n    };\r\n    if(loading) {\r\n      return (\r\n          <Spinner />\r\n        )\r\n      };\r\n\r\n\r\n      return (\r\n        <div className=\"catalog\">\r\n        <div className=\"categories-section\">\r\n          <div className=\"section-title\">Работа с 54-ФЗ</div>\r\n          <div className=\"category-card-list d-flex flex-wrap\">\r\n            {categoryCards}\r\n          </div>\r\n        </div>\r\n        <div className=\"categories-section\">\r\n          <div className=\"section-title\">POS-Оборудование</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({categoryList: {categories, loading, error}}) => {\r\n  return { categories, loading, error }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, { storeService }) => {\r\n  return bindActionCreators({\r\n    fetchCategories: fetchCategories(storeService),\r\n  }, dispatch)\r\n}\r\n\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStoreService(),\r\n  connect(mapStateToProps,mapDispatchToProps)\r\n)(Catalog);","import Catalog from \"./catalog\";\r\n\r\nexport default Catalog;","export default __webpack_public_path__ + \"static/media/product-card.65926f2c.jpg\";","import ProductCard from \"./product-card\";\r\n\r\nexport default ProductCard;","import './product-card.scss';\r\n\r\n\r\nimport productImg from './product-card.jpg';\r\n\r\nconst ProductCard = (props) => {\r\n    const { data } = props;\r\n    return (\r\n        <div className=\"product-card\">\r\n            <div className=\"product-card__image\">\r\n                <img src={data.image_url ? data.image_url : productImg} alt={data.product_name} />\r\n            </div>\r\n            <div className=\"product-card__name\">\r\n                {data.product_name}\r\n            </div>\r\n\r\n            <button className=\"add-to-cart\">Добавить в корзину</button>\r\n\r\n            <div className=\"product-card__price\">\r\n                <div className=\"product-card__price--base\">\r\n                    {data.product_price} ₽\r\n                </div>\r\n                <div className=\"product-card__price--sale\">\r\n                    <span className=\"price\">{data.product_price} ₽ </span><span>с подпиской САБ.Плюс</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductCard;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withRouter } from 'react-router';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport compose from '../../utils';\r\nimport withStoreService from '../hoc/with-store-service';\r\nimport { fetchProducts } from '../../actions';\r\n\r\nimport Service from '../../services/service';\r\nimport ProductCard from '../product-card';\r\n\r\nimport './category.scss';\r\n\r\nclass Category extends Component {\r\n\r\n  state = {\r\n    data: [],\r\n    cat: {},\r\n  }\r\n\r\n  service = new Service();\r\n\r\n  componentDidMount() {\r\n    if (this.props.categoryId !== this.props.itemId) {\r\n      this.props.fetchProducts(this.props.itemId);\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    const filterProducts = (item = {}, cat_id = '0') => {\r\n      if (!item && !item.length) return false;\r\n      return item.virtuemart_category_id === cat_id ? item : false;\r\n    }\r\n\r\n    const { categories, products, loading, error, itemId  } = this.props;\r\n    const productCardsReq = products.map(item => {\r\n      return (\r\n        <ProductCard data={ item } key={ item.virtuemart_product_id } />\r\n        )\r\n    });\r\n\r\n    const { category_name } = categories.find(item => filterProducts(item, itemId));\r\n\r\n    return (\r\n      <div className=\"category\">\r\n          <div className=\"breadcrumbs\">\r\n            <Link to=\"/\" className=\"back-link\">Назад</Link>\r\n            <div className=\"breadcrumbs__link\">{ category_name }</div>\r\n          </div>\r\n\r\n          <div className=\"section-title\">{ category_name }</div>\r\n          <div className=\"products-list d-flex flex-wrap\">\r\n              { productCardsReq }\r\n          </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({productList: {products, categoryId, loading, error}, categoryList: {categories}}) => {\r\n  return { categories, products, categoryId, loading, error }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, { storeService }) => {\r\n  return bindActionCreators({\r\n    fetchProducts: fetchProducts(storeService),\r\n  }, dispatch)\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  withStoreService(),\r\n  connect(mapStateToProps,mapDispatchToProps)\r\n)(Category);","import Category from \"./category\";\r\n\r\nexport default Category;","import Footer from \"./footer\";\r\n\r\nexport default Footer;","import './footer.scss';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <div className=\"page-content d-flex flex-wrap\">\r\n                <div className=\"footer__col\">\r\n                    <div className=\"title\">\r\n                        Техподдержка:\r\n                    </div>\r\n                    <div className=\"info\">\r\n                        <a href=\"tel:88005507094\">8 (800) 550-70-94</a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer__col\">\r\n                    <div className=\"title\">\r\n                        Режим работы:\r\n                    </div>\r\n                    <div className=\"info\">\r\n                        Ежедневно, 9:00–18:00\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer__col\">\r\n                    <div className=\"title\">\r\n                        Адрес:\r\n                    </div>\r\n                    <div className=\"info\">\r\n                        г. Симферополь, ул. Павленко, 2А\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/main-category-icon--pos.01b79082.svg\";","export default __webpack_public_path__ + \"static/media/main-category-icon--po.12efb737.svg\";","export default __webpack_public_path__ + \"static/media/main-category-icon--services.a8c18364.svg\";","import Navigation from \"./navigation\";\r\n\r\nexport default Navigation;","import './navigation.scss';\r\n\r\nimport svgPos from './main-category-icon--pos.svg';\r\nimport svgPo from './main-category-icon--po.svg';\r\nimport svgServices from './main-category-icon--services.svg';\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <div className=\"main-categoties d-flex justify-content-sb\">\r\n      <button className=\"main-categories-card active\" id=\"main-category-pos\">\r\n        <span className=\"main-category-icon main-category-icon--pos\">\r\n          <svg>\r\n            <use href={svgPos + '#svg-pos'}></use>\r\n          </svg>\r\n        </span>\r\n        POS - Оборудование\r\n        </button>\r\n      <button className=\"main-categories-card\" id=\"main-category-po\">\r\n        <span className=\"main-category-icon main-category-icon--po\">\r\n          <svg>\r\n            <use href={svgPo + \"#svg-po\"}></use>\r\n          </svg>\r\n        </span>\r\n        ПО для бизнеса\r\n        </button>\r\n      <button className=\"main-categories-card\" id=\"main-category-services\">\r\n        <span className=\"main-category-icon main-category-icon--services\">\r\n          <svg>\r\n            <use href={svgServices + \"#svg-services\"}></use>\r\n          </svg>\r\n        </span>\r\n        САБ.Услуги\r\n        </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport store from './store';\r\nimport Service from './services/service';\r\nimport { StoreServiceProvider } from './components/store-context';\r\n\r\nimport ErrorBoundry from './components/error-boundry';\r\nimport Catalog from \"./components/catalog\";\r\nimport Category from './components/category';\r\nimport Footer from './components/footer';\r\nimport Navigation from './components/navigation';\r\nimport './app.scss';\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n  const storeService = new Service();\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <ErrorBoundry>\r\n        <StoreServiceProvider value={storeService} >\r\n          <div className=\"page-content\">\r\n            <Router>\r\n              <Navigation />\r\n              <Route path=\"/category/:id\" render={\r\n                ( { match } ) => {\r\n                  const { id } = match.params;\r\n                  return <Category itemId={ id } />\r\n                }\r\n              } />\r\n              <Route path=\"/\" component={ Catalog } exact />\r\n            </Router>\r\n          </div>\r\n        </StoreServiceProvider>\r\n      </ErrorBoundry>\r\n      <Footer />\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}