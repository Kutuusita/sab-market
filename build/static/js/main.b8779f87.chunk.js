(this["webpackJsonpsab-market"]=this["webpackJsonpsab-market"]||[]).push([[0],{36:function(t,e,r){},38:function(t,e,r){},39:function(t,e,r){},40:function(t,e,r){},43:function(t,e,r){},44:function(t,e,r){},45:function(t,e,r){},46:function(t,e,r){},47:function(t,e,r){},48:function(t,e,r){},49:function(t,e,r){},50:function(t,e,r){"use strict";r.r(e);var c=r(1),n=r.n(c),a=r(20),i=r.n(a),s=r(9),o=r(3),u=r(4),d=r(12),l=r(26),p=function(t,e){if(void 0===t)return{products:[],categoryId:null,loading:!0,error:null};switch(e.type){case"FETCH_PRODUCTS_REQUEST":return{products:[],categoryId:null,loading:!0,error:null};case"FETCH_PRODUCTS_SUCCESS":return{products:e.payload.newProducts,categoryId:e.payload.id,loading:!1,error:null};case"FETCH_PRODUCTS_FAILURE":return{products:[],categoryId:null,loading:!1,error:e.payload};default:return t.productList}},j=function(t,e){if(void 0===t)return{categories:[],loading:!0,error:null};switch(e.type){case"FETCH_CATEGORIES_REQUEST":return{categories:[],loading:!0,error:null};case"FETCH_CATEGORIES_SUCCESS":return{categories:e.payload,loading:!1,error:null};case"FETCH_CATEGORIES_FAILURE":return{categories:[],loading:!1,error:e.payload};default:return t.categoryList}},b=r(18),h=function(t){return t.reduce((function(t,e){return t+e.total}),0)},f=function(t,e,r){return 0===e.count?[].concat(Object(b.a)(t.slice(0,r)),Object(b.a)(t.slice(r+1))):-1===r?[].concat(Object(b.a)(t),[e]):[].concat(Object(b.a)(t.slice(0,r)),[e],Object(b.a)(t.slice(r+1)))},m=function(t,e,r){var c=t.productList.products,n=t.shoppingCart.cartItems,a=c.find((function(t){return t.virtuemart_product_id===e})),i=n.findIndex((function(t){return t.id===e})),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,c=e.id,n=void 0===c?t.virtuemart_product_id:c,a=e.count,i=void 0===a?0:a,s=e.title,o=void 0===s?t.product_name:s,u=e.total;return{id:n,title:o,count:i+r,total:(void 0===u?0:u)+r*t.product_price_f}}(a,n[i],r);return{cartItems:f(n,s,i),orderTotal:h(f(n,s,i))}},O=function(t,e){if(void 0===t)return{cartItems:[],orderTotal:0};switch(e.type){case"PRODUCT_ADDED_TO_CART":return m(t,e.payload,1);case"PRODUCT_REMOVED_FROM_CART":return m(t,e.payload,-1);case"ALL_PRODUCTS_REMOVED_FROM_CART":var r=t.shoppingCart.cartItems.find((function(t){return t.id===e.payload}));return m(t,e.payload,-r.count);case"CLEAN_CART":return{cartItems:[],orderTotal:0};default:return t.shoppingCart}},g=function(t,e){return void 0===t?{id:null}:"SET_CURRENT_CATEGORY"===e.type?{id:e.payload}:t.currentCategory},v=function(t,e){if(void 0===t)return{product:[],productId:null,loading:!0,error:null};switch(e.type){case"FETCH_PRODUCT_DETAILS_REQUEST":return{product:[],productId:null,loading:!0,error:null};case"FETCH_PRODUCT_DETAILS_SUCCESS":return{product:e.payload.newProduct,productId:e.payload.id,loading:!1,error:null};case"FETCH_PRODUCT_DETAILS_FAILURE":return{product:[],productId:null,loading:!1,error:e.payload};default:return t.product}},_=function(t,e){return console.log(e.type,t),{currentCategory:g(t,e),sourseUrl:"https://market.sab-it.ru/",categoryList:j(t,e),productList:p(t,e),shoppingCart:O(t,e),product:v(t,e)}},x=function(t){return{type:"PRODUCT_ADDED_TO_CART",payload:t}},y=function(t){return function(){return function(e){e({type:"FETCH_CATEGORIES_REQUEST"}),t.getCategories().then((function(t){return e({type:"FETCH_CATEGORIES_SUCCESS",payload:t})})).catch((function(t){return e(function(t){return{type:"FETCH_CATEGORIES_FAILURE",payload:t}}(t))}))}}},C=r(10),N=r.n(C),E=r(17),I=r(11),T=function t(){var e=this;Object(I.a)(this,t),this._apiBase="https://market.sab-it.ru/market/market_object_2.php",this.headers={Origin:"https://kutuusita.github.io/"},this.getResourse=function(){var t=Object(E.a)(N.a.mark((function t(r,c){var n,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c?"".concat(e._apiBase,"?type=").concat(r,"&id=").concat(c):"".concat(e._apiBase,"?type=").concat(r),t.next=3,fetch(n,{method:"GET",mode:"cors",headers:e.headers});case 3:if((a=t.sent).ok){t.next=6;break}throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"+", ".concat(a.status));case 6:return t.next=8,a.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),this.getProductsByCatId=function(){var t=Object(E.a)(N.a.mark((function t(r){var c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResourse("products");case 2:return c=t.sent,t.abrupt("return",c.filter((function(t){return e._filterProducts(t,r)})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getProductById=function(){var t=Object(E.a)(N.a.mark((function t(r){var c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResourse("product",r);case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getCategories=Object(E.a)(N.a.mark((function t(){var r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResourse("category");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),this.getCategoryById=function(){var t=Object(E.a)(N.a.mark((function t(r){var c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResourse("category");case 2:return c=t.sent,t.abrupt("return",c.find((function(t){return e._filterProducts(t,r)})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this._filterProducts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return!(!t&&!t.length)&&(-1!==t.virtuemart_category_id.indexOf(e)&&t)}},S=new T,R={currentCategory:{},categoryList:{categories:[],loading:!0,error:null},productList:{products:[],cutegoryId:null,loading:!0,error:null},shoppingCart:{cartItems:[],orderTotal:0},product:{product:[],productId:null,loading:!0,error:null}},U=function(){try{var t=window.localStorage.getItem("app_state");return t?JSON.parse(t):R}catch(e){return R}}(),k=Object(d.c)(_,U,Object(d.a)(l.a));k.subscribe((function(){!function(t){try{var e=JSON.stringify(t);window.localStorage.setItem("app_state",e)}catch(r){}}(k.getState())})),k.dispatch(y(S));var w=k,L=n.a.createContext(),A=L.Provider,D=L.Consumer,P=r(13),F=r(15),H=r(14),M=(r(36),r(0)),B=function(){return Object(M.jsxs)("div",{className:"error-indicator",children:[Object(M.jsx)("span",{children:"something has gone terrible wrong"}),Object(M.jsx)("span",{children:"(but we already sebt droids to fix it)"})]})},G=function(t){Object(F.a)(r,t);var e=Object(H.a)(r);function r(){var t;Object(I.a)(this,r);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).state={hasError:!1},t}return Object(P.a)(r,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(M.jsx)(B,{}):this.props.children}}]),r}(c.Component),Q=G,J=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduceRight((function(t,e){return e(t)}),t)}},V=r(25),Y=function(){return function(t){return function(e){return Object(M.jsx)(D,{children:function(r){return Object(M.jsx)(t,Object(V.a)(Object(V.a)({},e),{},{storeService:r}))}})}}},q=(r(38),function(){return Object(M.jsx)("div",{className:"spinner-wrap",children:Object(M.jsx)("div",{className:"spinner-title",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}),z=(r(39),function(t){var e=t.data,r=t.onItemSelected,c=e.virtuemart_category_id,n=e.file_url,a=e.category_name;return Object(M.jsxs)("div",{onClick:function(){return r(c)},className:"category-card",id:c,children:[Object(M.jsx)("div",{className:"category-card__image",children:Object(M.jsx)("img",{src:"https://market.sab-it.ru/".concat(n),alt:a})}),Object(M.jsx)("div",{className:"category-card__name",children:a})]})}),K=(r(40),function(t){Object(F.a)(r,t);var e=Object(H.a)(r);function r(){return Object(I.a)(this,r),e.apply(this,arguments)}return Object(P.a)(r,[{key:"componentDidMount",value:function(){this.props.categories.length||this.props.fetchCategories()}},{key:"render",value:function(){var t=this.props,e=t.categories,r=t.loading,c=t.error,n=t.history,a=t.itemId,i=void 0===a?0:a,s="";switch(i){case"2":s="\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 54-\u0424\u0417";break;case"187":s="\u0421\u0410\u0411.\u0423\u0441\u043b\u0443\u0433\u0438";break;case"3":s="POS-\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435";break;case"40":s="\u041f\u041e \u0434\u043b\u044f \u0431\u0438\u0437\u043d\u0435\u0441\u0430"}var o=e.map((function(t){var e=t.virtuemart_category_id;return t.category_parent_id===i||0===i?Object(M.jsx)(z,{onItemSelected:function(t){n.push("/category/".concat(t))},data:t},e):null}));return c?Object(M.jsx)(B,{}):r?Object(M.jsx)(q,{}):Object(M.jsx)("div",{className:"catalog",children:Object(M.jsxs)("div",{className:"categories-section",children:[Object(M.jsx)("div",{className:"section-title",children:s}),Object(M.jsx)("div",{className:"category-card-list d-flex flex-wrap",children:o})]})})}}]),r}(c.Component)),W=J(o.e,Y(),Object(u.b)((function(t){var e=t.categoryList;return{categories:e.categories,loading:e.loading,error:e.error}}),(function(t,e){var r=e.storeService;return Object(d.b)({fetchCategories:y(r)},t)})))(K),X=(r(43),r.p+"static/media/product-card.65926f2c.jpg"),Z=Object(u.b)((function(t){return{sourseUrl:t.sourseUrl,cartItems:t.shoppingCart.cartItems}}),(function(t){return{onAddedToCart:function(e){return t(x(e))}}}))((function(t){var e,r,c=t.data,n=c.file_url,a=c.product_name,i=c.product_price_f,s=c.product_override_price,o=c.sab_price,u=c.virtuemart_category_id,d=c.product_box,l=c.virtuemart_product_id,p=t.sourseUrl,j=t.onItemSelected,b=t.onAddedToCart,h=t.cartItems,f="",m=function(t){return t};switch(d){case"\u043c\u0435\u0441":case"\u043c\u0435\u0441.":case"\u0433\u043e\u0434":case"\u043a\u0432.":case"\u043a\u0432":case"\u0448\u0442":case"\u0448\u0442.":f="/".concat(d),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(t," \u20bd").concat(e)};break;case"\u043e\u0442":f=d,m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e," ").concat(t," \u20bd")};break;default:m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(t," \u20bd").concat(e)}}if(s&&s!==i&&!o){var O=s.toLocaleString("ru-RU"),g=i.toLocaleString("ru-RU");r=m(O,f),e=Object(M.jsx)("div",{className:"product-card__price--sale",children:Object(M.jsx)("span",{className:"price",children:m(g,f)})})}else{r=m(i.toLocaleString("ru-RU"),f),e=o?Object(M.jsxs)("div",{className:"product-card__price--sab",children:[Object(M.jsxs)("span",{className:"price",children:[m(o.toLocaleString("ru-RU"),f)," "]}),Object(M.jsx)("span",{children:"\u0441 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u043e\u0439 \u0421\u0410\u0411.\u041f\u043b\u044e\u0441"})]}):null}"220"===u&&0===i?r="\u0426\u0435\u043d\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443":0===i&&(r="\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"),o&&3===o&&(e=Object(M.jsxs)("div",{className:"product-card__price--sab",children:[Object(M.jsx)("span",{className:"price",children:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e "}),Object(M.jsx)("span",{children:"\u0441 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u043e\u0439 \u0421\u0410\u0411.\u041f\u043b\u044e\u0441"})]}));var v="add-to-cart";return-1!==h.findIndex((function(t){return t.id===l}))&&(v+=" added"),Object(M.jsxs)("div",{className:"product-card",children:[Object(M.jsx)("div",{className:"product-card__image",children:Object(M.jsx)("img",{src:n?p+n:X,alt:a})}),Object(M.jsx)("div",{onClick:function(){return j(l)},className:"product-card__name",children:a}),Object(M.jsx)("button",{onClick:function(){return b(l)},className:v,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),Object(M.jsxs)("div",{className:"product-card__price",children:[Object(M.jsx)("div",{className:"product-card__price--base",children:r}),e]})]})})),$=Z,tt=(r(44),function(t){Object(F.a)(r,t);var e=Object(H.a)(r);function r(){return Object(I.a)(this,r),e.apply(this,arguments)}return Object(P.a)(r,[{key:"componentDidMount",value:function(){this.props.categoryId!==this.props.itemId&&this.props.fetchProducts(this.props.itemId)}},{key:"render",value:function(){var t=this.props,e=t.categories,r=t.products,c=(t.loading,t.error,t.itemId),n=void 0===c?0:c,a=t.history,i=r.map((function(t){return Object(M.jsx)($,{onItemSelected:function(t){a.push("/product/".concat(t))},data:t},t.virtuemart_product_id)})),o=e.find((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return!(!t&&!t.length)&&t.virtuemart_category_id===e&&t}(t,n)})),u=o.category_name,d=o.category_parent_id;return Object(M.jsxs)("div",{className:"category",children:[Object(M.jsxs)("div",{className:"breadcrumbs",children:[Object(M.jsx)(s.b,{to:"/".concat(d),className:"back-link",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(M.jsx)("div",{className:"breadcrumbs__link",children:u})]}),Object(M.jsx)("div",{className:"section-title",children:u}),Object(M.jsx)("div",{className:"products-list d-flex flex-wrap",children:i})]})}}]),r}(c.Component)),et=J(o.e,Y(),Object(u.b)((function(t){var e=t.productList,r=e.products,c=e.categoryId,n=e.loading,a=e.error;return{categories:t.categoryList.categories,products:r,categoryId:c,loading:n,error:a}}),(function(t,e){var r,c=e.storeService;return Object(d.b)({fetchProducts:(r=c,function(t){return function(e){e({type:"FETCH_PRODUCTS_REQUEST"}),r.getProductsByCatId(t).then((function(r){return e(function(t,e){return{type:"FETCH_PRODUCTS_SUCCESS",payload:{newProducts:t,id:e}}}(r,t))})).catch((function(t){return e(function(t){return{type:"FETCH_PRODUCTS_FAILURE",payload:t}}(t))}))}})},t)})))(tt),rt=(r(45),function(t){Object(F.a)(r,t);var e=Object(H.a)(r);function r(){return Object(I.a)(this,r),e.apply(this,arguments)}return Object(P.a)(r,[{key:"componentDidMount",value:function(){this.props.productId!==this.props.itemId&&this.props.fetchProductDetails(this.props.itemId)}},{key:"render",value:function(){var t=this.props,e=t.itemId,r=t.products,c=t.product,n=t.categories,a=t.loading,i=t.error,o=t.sourseUrl,u=t.currentCategory,d=t.onAddedToCart,l=t.cartItems;if(i)return Object(M.jsx)(B,{});if(a)return Object(M.jsx)(q,{});var p,j,b=c.virtuemart_category_id,h=c.product_name,f=c.product_specifications,m=c.product_s_desc,O=n.find((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return!(!t&&!t.length)&&t.virtuemart_category_id===e&&t}(t,b)})),g=O.category_name,v=void 0===g?null:g,_=O.category_parent_id,x=void 0===_?null:_,y=r.find((function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return!(!t&&!t.length)&&t.virtuemart_product_id===e&&t}(t,e)})),C=y.file_url,N=y.product_price_f,E=y.product_override_price,I=y.sab_price,T=y.product_box,S="",R=function(t){return t};switch(T){case"\u043c\u0435\u0441":case"\u043c\u0435\u0441.":case"\u0433\u043e\u0434":case"\u043a\u0432.":case"\u043a\u0432":case"\u0448\u0442":case"\u0448\u0442.":S="/".concat(T),R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(M.jsxs)(M.Fragment,{children:[t," ",Object(M.jsxs)("span",{className:"symbol",children:["\u20bd",e]})]})};break;case"\u043e\u0442":S=T,R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("span",{className:"symbol",children:e})," ",t," ",Object(M.jsx)("span",{className:"symbol",children:"\u20bd"})]})};break;default:R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(M.jsxs)(M.Fragment,{children:[t," ",Object(M.jsxs)("span",{className:"symbol",children:["\u20bd",e]})]})}}if(E&&E!==N&&!I){var U=E.toLocaleString("ru-RU"),k=N.toLocaleString("ru-RU");j=R(U,S),p=Object(M.jsx)("div",{className:"product-card__price--sale",children:Object(M.jsx)("span",{className:"price",children:R(k,S)})})}else{j=R(N.toLocaleString("ru-RU"),S),p=I?Object(M.jsxs)("div",{className:"product-card__price--sab",children:[Object(M.jsxs)("span",{className:"price",children:[R(I.toLocaleString("ru-RU"),S)," "]}),Object(M.jsx)("span",{children:"\u0441 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u043e\u0439 \u0421\u0410\u0411.\u041f\u043b\u044e\u0441"})]}):null}"220"===b&&0===N?j="\u0426\u0435\u043d\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443":0===N&&(j="\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"),I&&3===I&&(p=Object(M.jsxs)("div",{className:"product-card__price--sab",children:[Object(M.jsx)("span",{className:"price",children:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e "}),Object(M.jsx)("span",{children:"\u0441 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u043e\u0439 \u0421\u0410\u0411.\u041f\u043b\u044e\u0441"})]}));var w=null;f&&(w=Object(M.jsxs)("div",{className:"product-specifications",children:[Object(M.jsx)("div",{className:"specifications-title h2",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),Object(M.jsx)("div",{className:"specifications",dangerouslySetInnerHTML:{__html:f}})]}));var L=null;m&&(L=Object(M.jsx)("div",{className:"product-s-desc",children:Object(M.jsx)("div",{className:"specifications",dangerouslySetInnerHTML:{__html:m}})}));var A=null;A="187"===u.id?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("ul",{className:"product__feutures",children:[Object(M.jsx)("li",{className:"work_time",children:"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e, 9:00-18:00"}),Object(M.jsx)("li",{className:"delivery",children:"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u043f\u043e \u0420.\u041a\u0440\u044b\u043c \u0438 \u0433.\u0421\u0435\u0432\u0430\u0441\u0442\u043e\u043f\u043e\u043b\u044c"}),Object(M.jsxs)("li",{className:"any_tasks",children:["\u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0432\u0430\u0448\u0435\u0439 \u0437\u0430\u0434\u0430\u0447\u0438, \u043c\u043e\u0436\u0435\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c ",Object(M.jsx)("br",{})," \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e \u0438\u043b\u0438 \u043f\u0440\u0438\u0435\u0445\u0430\u0442\u044c \u0432 \u0432\u0430\u0448 \u0433\u043e\u0440\u043e\u0434"]})]})}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("ul",{className:"product__feutures",children:[Object(M.jsx)("li",{className:"work_time",children:"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e, 9:00-18:00"}),Object(M.jsx)("li",{className:"delivery",children:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e 5 \u0434\u043d\u0435\u0439."})]})});var D="btn product__btn",P="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443";if(l.length){var F=(l.find((function(t){return t.id===e}))||{}).count,H=void 0===F?0:F;-1!==l.findIndex((function(t){return t.id===e}))&&(D+=" added",P="\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 ".concat(H," \u0448\u0442."))}return Object(M.jsxs)("div",{className:"product-details",children:[Object(M.jsxs)("div",{className:"breadcrumbs",children:[Object(M.jsx)(s.b,{to:"/".concat(x),className:"back-link",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(M.jsx)(s.b,{to:"/category/".concat(b),className:"breadcrumbs__link",children:v}),Object(M.jsx)("div",{className:"breadcrumbs__link",children:h})]}),Object(M.jsx)("div",{className:"section-title",children:h}),Object(M.jsxs)("div",{className:"product-wrap",children:[Object(M.jsx)("div",{className:"product__image",children:Object(M.jsx)("img",{src:C?o+C:X,alt:h})}),Object(M.jsxs)("div",{className:"product__info",children:[Object(M.jsxs)("div",{className:"product__price",children:[Object(M.jsx)("div",{className:"product__price--base",children:j}),p]}),A,L,Object(M.jsx)("button",{onClick:function(){return d(e)},className:D,children:P})]})]}),w]})}}]),r}(c.Component)),ct=J(o.e,Y(),Object(u.b)((function(t){var e=t.productList.products,r=t.product,c=r.product,n=r.productId,a=r.loading,i=r.error;return{products:e,categories:t.categoryList.categories,product:c,productId:n,loading:a,error:i,sourseUrl:t.sourseUrl,currentCategory:t.currentCategory,cartItems:t.shoppingCart.cartItems}}),(function(t,e){var r,c=e.storeService;return Object(d.b)({fetchProductDetails:(r=c,function(t){return function(e){e({type:"FETCH_PRODUCT_DETAILS_REQUEST"}),r.getProductById(t).then((function(r){return e(function(t,e){return{type:"FETCH_PRODUCT_DETAILS_SUCCESS",payload:{newProduct:t,id:e}}}(r,t))})).catch((function(t){return e(function(t){return{type:"FETCH_PRODUCT_DETAILS_FAILURE",payload:t}}(t))}))}}),onAddedToCart:function(t){return x(t)}},t)})))(rt),nt=(r(46),function(){return Object(M.jsx)("footer",{className:"footer",children:Object(M.jsxs)("div",{className:"container d-flex flex-wrap",children:[Object(M.jsxs)("div",{className:"footer__col",children:[Object(M.jsx)("div",{className:"title",children:"\u0422\u0435\u0445\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430:"}),Object(M.jsx)("div",{className:"info",children:Object(M.jsx)("a",{href:"tel:88005507094",children:"8 (800) 550-70-94"})})]}),Object(M.jsxs)("div",{className:"footer__col",children:[Object(M.jsx)("div",{className:"title",children:"\u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u044b:"}),Object(M.jsx)("div",{className:"info",children:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e, 9:00\u201318:00"})]}),Object(M.jsxs)("div",{className:"footer__col",children:[Object(M.jsx)("div",{className:"title",children:"\u0410\u0434\u0440\u0435\u0441:"}),Object(M.jsx)("div",{className:"info",children:"\u0433. \u0421\u0438\u043c\u0444\u0435\u0440\u043e\u043f\u043e\u043b\u044c, \u0443\u043b. \u041f\u0430\u0432\u043b\u0435\u043d\u043a\u043e, 2\u0410"})]})]})})}),at=(r(47),r.p+"static/media/main-category-icon--pos.01b79082.svg"),it=r.p+"static/media/main-category-icon--po.12efb737.svg",st=r.p+"static/media/main-category-icon--services.a8c18364.svg",ot=J(o.e,Object(u.b)((function(t){return{currentCategory:t.currentCategory}}),{setCurrentCat:function(t){return{type:"SET_CURRENT_CATEGORY",payload:t}}}))((function(t){var e=t.currentCategory,r=void 0===e?{id:"3"}:e,c=t.setCurrentCat,n=(t.match,t.location,t.history,[{id:"3",name:"POS - \u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",href:at+"#svg-pos",slug:"pos"},{id:"40",name:"\u041f\u041e \u0434\u043b\u044f \u0431\u0438\u0437\u043d\u0435\u0441\u0430",href:it+"#svg-po",slug:"po"},{id:"187",name:"\u0421\u0410\u0411.\u0423\u0441\u043b\u0443\u0433\u0438",href:st+"#svg-services",slug:"services"}].map((function(t){var e=t.id,n=t.name,a=t.href,i=t.slug,o=e===r.id?"active":"";return Object(M.jsxs)(s.b,{to:"/".concat(e),onClick:function(){return c(e)},className:"main-categories-card ".concat(o),id:"main-category-".concat(i),children:[Object(M.jsx)("span",{className:"main-category-icon main-category-icon--".concat(i),children:Object(M.jsx)("svg",{children:Object(M.jsx)("use",{href:a})})}),n]},i)})));return Object(M.jsx)("div",{className:"main-categories d-flex justify-content-sb",children:n})})),ut=(r(48),r(49),r.p+"static/media/cart-icon.4a186ad5.svg"),dt=Object(u.b)((function(t){return{shoppingCart:t.shoppingCart}}),(function(t){return{cleanCart:function(){return t({type:"CLEAN_CART"})}}}))((function(t){var e=t.shoppingCart.orderTotal,r=t.cleanCart;return e>0?Object(M.jsxs)("div",{className:"mini-cart",children:[Object(M.jsx)("img",{src:ut,alt:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(M.jsxs)("span",{className:"order-total",children:[e.toLocaleString("ru-RU")," \u20bd"]}),Object(M.jsx)("button",{onClick:function(){return r()},children:"Clean"})]}):null})),lt=function(){var t=new T;return Object(M.jsxs)(u.a,{store:w,children:[Object(M.jsx)(Q,{children:Object(M.jsx)(A,{value:t,children:Object(M.jsxs)("div",{className:"container page-content",children:[Object(M.jsx)("button",{onClick:function(){window.localStorage.removeItem("app_state")},children:"Clean localStorage"}),Object(M.jsx)(dt,{}),Object(M.jsxs)(s.a,{children:[Object(M.jsx)(ot,{}),Object(M.jsx)(o.a,{path:"/category/:id",render:function(t){var e=t.match.params.id;return Object(M.jsx)(et,{itemId:e})}}),Object(M.jsx)(o.a,{path:"/",render:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(W,{itemId:"2"}),Object(M.jsx)(W,{itemId:"3"})]})},exact:!0}),Object(M.jsx)(o.a,{path:"/:id",exact:!0,render:function(t){var e=t.match.params.id;return"3"===e||"2"===e?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(W,{itemId:"2"}),Object(M.jsx)(W,{itemId:"3"})]}):Object(M.jsx)(W,{itemId:e})}}),Object(M.jsx)(o.a,{path:"/product/:id",render:function(t){var e=t.match.params.id;return Object(M.jsx)(ct,{itemId:e})}})]})]})})}),Object(M.jsx)(nt,{})]})};i.a.render(Object(M.jsx)(n.a.StrictMode,{children:Object(M.jsx)(lt,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.b8779f87.chunk.js.map